//------------------------------------------------------------------------------
// Note : BASE ADV SYSTEM
// Data : 2010/06/07
// File : CheckDialog.tjs
// Creator : Kazuyuki Uchino
// Memo : CheckDialog Function
//------------------------------------------------------------------------------

@if (__CHECKDIALOG_TJS__== 0)
@set(__CHECKDIALOG_TJS__ = 1)

class _CHECKDIALOG extends BaseObject {
	
	/*-----------------------------------------
	¡ö ¥Ñ¥é¥á©`¥¿
	-----------------------------------------*/
	var BaseBord;	//¥Ð¥Ã¥°¥Ü©`¥É
	
	var FrameBord;	//¥Õ¥ì©`¥à¥Ü©`¥É
	
	var MessLayer;	//¥á¥Ã¥»©`¥¸¥ì¥¤¥ä
	
	var YesButton;	//Yes¥Ü¥¿¥ó¥ì¥¤¥ä
	
	var NoButton;	//No¥Ü¥¿¥ó¥ì¥¤¥ä
	
	var YesButtonParts;//Button¥Ñ©`¥Ä
	
	var NoButtonParts;//Button¥Ñ©`¥Ä
	
	var CheckButton;//¥Á¥§¥Ã¥¯¥ì¥¤¥ä
	
	var MessParts;	//¥á¥Ã¥»©`¥¸¥Ñ©`¥Ä
	
	var CheckParts;//´_ÕJ¥Ñ©`¥Ä
	
	var TempActive;	//TempActive¥ª¥Ö¥¸¥§¥¯¥È
	
	var MapRes;		//CURSOR ¥ª¥Ö¥¸¥§¥¯¥È
	
	var TempRes;	//CURSOR ¥ª¥Ö¥¸¥§¥¯¥È
	
	var ResultFunc;	//½Y¹ûévÊý
	
	var m_left;		//mouse left
	
	var m_top;		//mouse top
	
	var keyactive;	//key active
	
	var ChkType;	//CheckType
	
	
	
	
	
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö ¥³¥ó¥¹¥È¥é¥¯¥¿
	-----------------------------------------*/
	function _CHECKDIALOG(win, pri, message, func, type = 0)
	{
		super.BaseObject(win, pri);
		
		TempActive = win.ActiveObj;
		
		ResultFunc = func;
		
		//¥Ð¥Ã¥°¥Ü©`¥É
		BaseBord = new BaseLayer(win, pri, 0, 0, win.WndScreenX, win.WndScreenY );
		
		BaseBord.fillRect(0,0,win.WndScreenX, win.WndScreenY, 0xff000000);
		
		BaseBord.opacity  = 125;
		
		BaseBord.absolute = nCHKLAYER;
		
		//¥Õ¥ì©`¥à¥Ü©`¥É
		FrameBord    = new BaseLayer(win, pri, 310, 225, 0, 0, "frm_chkwin01.png");
		
		FrameBord.absolute = nCHKLAYER + 1;
		
		//¥á¥Ã¥»©`¥¸¥ì¥¤¥ä
		MessLayer    = new BaseLayer(win, FrameBord, 141, 35, 400, 45);
		
		MessLayer.absolute = nCHKLAYER + 2;
		
		//Yes¥Ü¥¿¥ó¥ì¥¤¥ä
		YesButton= new BaseLayer(win, FrameBord, 209, 115, 114, 37);
		
		YesButton.absolute = nCHKLAYER + 3;
		
		//No¥Ü¥¿¥ó¥ì¥¤¥ä
		NoButton= new BaseLayer(win, FrameBord, 333, 115, 114, 37);
		
		NoButton.absolute  = nCHKLAYER + 4;
		
		//¥Á¥§¥Ã¥¯¥Ü¥¿¥ó¥ì¥¤¥ä
		CheckButton= new BaseLayer(win, FrameBord, 477, 152, 156, 32);
		
		CheckButton.absolute  = nCHKLAYER + 5;
		
		
		//Button¥Ñ©`¥Ä
		YesButtonParts = new BaseLayer(win, pri, 0, 0, 0, 0, "frm_chkwin02.png");
		
		YesButtonParts.visible = false;
		
		NoButtonParts  = new BaseLayer(win, pri, 0, 0, 0, 0, "frm_chkwin03.png");
		
		NoButtonParts.visible = false;
		
		MessParts      = new BaseLayer(win, pri, 0, 0, 0, 0, "frm_chkwin04.png");
		
		MessParts.visible     = false;
		
		CheckParts     = new BaseLayer(win, pri, 0, 0, 0, 0, "frm_chkwin05.png");
		
		CheckParts.visible    = false;
		
		
		
		//¥Ñ©`¥ÄCOPY
		YesButton.copyRect(0,0,YesButtonParts,0,0,YesButton.width,YesButton.height);
		
		NoButton.copyRect(0,0,NoButtonParts,0,0,NoButton.width,NoButton.height);
		
		BaseBord.loadProvinceImage("clm_chk.png");
		
		
		
		
		//¥Æ¥­¥¹¥ÈÃè»­
		var fileId;
		
		//·N„e±£´æ
		ChkType = type;
		
		//×ù˜Ë
		if(ChkType == nEXIT_BOX)
		{//½KÁË´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nEXIT_BOX);
			
			//FILE ID
			fileId = nSYS_ENDCHECK;
			
			if(s["dlg_end"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nFORMAT_BOX)
		{//³õÆÚ»¯´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nFORMAT_BOX);
			
			//FILE ID
			fileId = nSYS_FORMAT;
			
			if(s["dlg_format"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nTITLE_BOX)
		{//TITLE»­Ãæ´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nTITLE_BOX);
			
			//FILE ID
			fileId = nSYS_RETTITLE;
			
			if(s["dlg_title"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nLOAD_BOX || ChkType == nSAVE_BOX)
		{//LOAD SAVE »­Ãæ´_ÕJ
			
			//FILE ID
			if(ChkType == nSAVE_BOX){
				MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nSAVE_BOX);
				
				fileId = nSYS_SAVECHECK;
				
				if(s["dlg_save"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}else{
				MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nLOAD_BOX);
				
				fileId = nSYS_LOADCHECK;
				
				if(s["dlg_load"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			
		}
		else if(ChkType == nREWRITE_BOX)
		{//ÉÏ•ø¤­ SAVE »­Ãæ´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nREWRITE_BOX);
			
			fileId = nSYS_SAVECHECK;
			
			if(s["dlg_save"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nSCENE_REPLAY)
		{//SCENE REPLAY »­Ãæ´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nSCENE_REPLAY);
			
			fileId = nSYS_RETREPLAY;
			
			if(s["dlg_replay"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nJUMP_BOX)
		{//JUMP´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nJUMP_BOX);
			
			fileId = nSYS_JUMPCHECK;
			
			if(s["dlg_jump"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nCOPY_BOX)
		{//COPY´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nCOPY_BOX);
			
			fileId = nSYS_COPYCHECK;
			
			if(s["dlg_copy"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nMOVE_BOX)
		{//MOVE´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nMOVE_BOX);
			
			fileId = nSYS_MOVECHECK;
			
			if(s["dlg_move"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		else if(ChkType == nDELETE_BOX)
		{//Ï÷³ý´_ÕJ
			MessLayer.copyRect(0,0,MessParts,0,MessLayer.height*nDELETE_BOX);
			
			fileId = nSYS_DELETECHECK;
			
			if(s["dlg_erase"] == true){
				CheckParts.loadImages("frm_chkwin05.png");
			}else{
				CheckParts.loadImages("frm_chkwin06.png");
			}
			
		}
		
		//¥Á¥§¥Ã¥¯BOX¤òCOPY¤·¤Æ¤ª¤¯
		CheckButton.copyRect(0,0,CheckParts,0,0);
		
		
		//SYSTEMÒôÉù¤ÎÔÙÉú
		if(s["system"] == true){
			//ÒôÉù¥Õ¥¡¥¤¥ëÃû¤Î×÷³É
			var file = nSYSTEM_VOICE_HEADER + getCharID(s.sys_char_id) + fileId + ".ogg";
			
			//ÒôÉù¤ÎÔÙÉú
			win.SystemVoicePlay(file);
		}
		
		
		//keyactive ¤òÇÞ¤«¤·¤Æ¤ª¤¯
		keyactive = false;
		
		win.mouseCursorState = mcsVisible;
		
		
		
		//¥Þ¥¦¥¹¥«©`¥½¥ë×Ô„ÓÒÆ„Ó
		if( s["mouse"] == true ){
			//…g¼ƒÒÆ„Ó
			win.PrimaryLayer.cursorX = FrameBord.left + NoButton.left + (NoButton.width\2);
			win.PrimaryLayer.cursorY = FrameBord.top  + NoButton.top  + (NoButton.height\2);
			
			//ÒÆ„Ó¥¢¥Ë¥á ¡ùÑÔ¤ï¤ì¤¿¤éÊ¹ÓÃ¤¹¤ë¤Ã¤Æ¤³¤È¤Ç
			//win.SetCursorMove( FrameBord.left + NoButton.left + (NoButton.width\2), FrameBord.top  + NoButton.top  + (NoButton.height\2), nMOUSE_MOVE_TIME );
		}
		
		
	}
	
	
	
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö ¥Ç¥¹¥È¥é¥¯¥¿
	-----------------------------------------*/
	function finalize()
	{
		super.finalize();
		
		invalidate BaseBord;	//¥Ð¥Ã¥°¥Ü©`¥É
		
		invalidate FrameBord;	//¥Õ¥ì©`¥à¥Ü©`¥É
		
		invalidate MessLayer;	//¥á¥Ã¥»©`¥¸¥ì¥¤¥ä
		
		invalidate YesButton;	//Yes¥Ü¥¿¥ó¥ì¥¤¥ä
		
		invalidate NoButton;	//No¥Ü¥¿¥ó¥ì¥¤¥ä
		
		invalidate YesButtonParts;//Button¥Ñ©`¥Ä
		
		invalidate NoButtonParts;//Button¥Ñ©`¥Ä
		
		invalidate MessParts;	//Button¥Ñ©`¥Ä
		
		invalidate CheckButton;
		
		invalidate CheckParts;
		
		//ÒôÉù¤ÎÍ£Ö¹
		MainWnd.SystemObj.FileStop();
		
		MainWnd.mouseCursorState = mcsVisible;
		
	}
	
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö Default Func
	-----------------------------------------*/
	function DefaultAction()
	{
		MainWnd.mouseCursorState = mcsVisible;
		
		if(YesButton.PaintFlag || NoButton.PaintFlag || CheckButton.PaintFlag)
		{
			YesButton.PaintFlag= false;
			
			NoButton.PaintFlag = false;
			
			CheckButton.PaintFlag = false;
			
			Wait( nBUTTON_WAIT );
			
			ClickWork();
			
			return;
		}
		
		
		
		if(!keyactive){
		//mouse ÖÆÓù
			MapRes = BaseBord.GetProvincePixel();
		}else{
		//key ÖÆÓù
			if(	(m_left != MainWnd.PrimaryLayer.cursorX) ||
				(m_top  != MainWnd.PrimaryLayer.cursorY)
			){
				keyactive = false;
			}
		}
		
		
		
		
		if(MapRes != TempRes)
		{
			ActionFunction();
		
			ClearFunction();
		}
		
		TempRes = MapRes;
	}
	
	
	
	
	
	
	/*-----------------------------------------
	¡ô¥¤¥Ù¥ó¥ÈÈ¡µÃévÊý
	
	ÒýÊý£º
	¤Ê¤·
	
	ÕhÃ÷£º
	Mouse Up¤ò„IÀí¤¹¤ë¥Ï¥ó¥É¥é
	
	-----------------------------------------*/
	function LeftMouseUpAction()
	{
		if(!MapRes)return;
		
		//¥ª¥Ö¥¸¥§¥¯¥È¤¬´æÔÚ¤·¤Æ¤¤¤ì¤Ð¤³¤³¤Þ¤Ç
		if(DeleteObject !== void){
			return;
		}
		
		if(MapRes == 1){
			YesButton.copyRect(0,0,YesButtonParts,(YesButtonParts.width/3)*2,0,YesButtonParts.width/3,YesButtonParts.height);
			
			YesButton.update();
		}else if(MapRes == 2){
			NoButton.copyRect(0,0,NoButtonParts,(NoButtonParts.width/3)*2,0,NoButtonParts.width/3,NoButtonParts.height);
			
			NoButton.update();
			
		}else if(MapRes == 3){
			CheckButton.copyRect(0,0,CheckParts,CheckButton.width*2,0);
			
			CheckButton.update();
		}
	}
	
	
	
	
	
	/*-----------------------------------------
	¡ô¥¤¥Ù¥ó¥ÈÈ¡µÃévÊý
	
	ÒýÊý£º
	¤Ê¤·
	
	ÕhÃ÷£º
	Mouse Up¤ò„IÀí¤¹¤ë¥Ï¥ó¥É¥é
	
	-----------------------------------------*/
	function RightMouseUpAction()
	{
		//¥ª¥Ö¥¸¥§¥¯¥È¤¬´æÔÚ¤·¤Æ¤¤¤ì¤Ð¤³¤³¤Þ¤Ç
		if(DeleteObject !== void){
			return;
		}
		
		MainWnd.CheckBoxResult = false;
		
		DeleteFunc();
	}
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö ¥¢¥¯¥Æ¥£¥ÖévÊý
	
	ÒýÊý£º
	
	ÕhÃ÷£º
	
	-----------------------------------------*/
	function ActionFunction()
	{
		if(!MapRes)return;
		
		if(MapRes == 1){
			YesButton.copyRect(0,0,YesButtonParts,(YesButtonParts.width/3),0,(YesButtonParts.width/3),YesButtonParts.height);
		}else if(MapRes == 2){
			NoButton.copyRect(0,0,NoButtonParts,(NoButtonParts.width/3),0,(NoButtonParts.width/3),NoButtonParts.height);
		}else if(MapRes == 3){
			CheckButton.copyRect(0,0,CheckParts,CheckButton.width,0);
		}
		
	}
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö ÏûÈ¥évÊý
	
	ÒýÊý£º
	
	ÕhÃ÷£º
	
	-----------------------------------------*/
	function ClearFunction()
	{
		if(!TempRes)return;
		
		if(TempRes == 1){
			YesButton.copyRect(0,0,YesButtonParts,0,0,(YesButtonParts.width/3),YesButtonParts.height);
		}else if(TempRes == 2){
			NoButton.copyRect(0,0,NoButtonParts,0,0,(NoButtonParts.width/3),NoButtonParts.height);
		}else if(TempRes == 3){
			CheckButton.copyRect(0,0,CheckParts,0,0);
		}
	}
	
	
	
	
	
	/*-----------------------------------------
	¡ö ¥¯¥ê¥Ã¥¯„IÀí
	
	ÒýÊý£º
	
	ÕhÃ÷£º
	
	-----------------------------------------*/
	function ClickWork()
	{
		if(MapRes == 1){
			
			//RESULT
			MainWnd.CheckBoxResult = true;
			
			YesButton.copyRect(0,0,YesButtonParts,(YesButtonParts.width/3),0,(YesButtonParts.width/3),YesButtonParts.height);
			
			DeleteFunc();
			
		}else if(MapRes == 2){
			NoButton.copyRect(0,0,NoButtonParts,(NoButtonParts.width/3),0,(NoButtonParts.width/3),NoButtonParts.height);
			
			//RESULT
			MainWnd.CheckBoxResult = false;
			
			DeleteFunc();
		}else if(MapRes == 3){
		//´_ÕJBOX
			
			if(ChkType == nEXIT_BOX)
			{//½KÁË´_ÕJ
				s["dlg_end"] = !s["dlg_end"];
				
				if(s["dlg_end"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nFORMAT_BOX)
			{//³õÆÚ»¯´_ÕJ
				
				s["dlg_format"] = !s["dlg_format"];
				
				if(s["dlg_format"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nTITLE_BOX)
			{//TITLE»­Ãæ´_ÕJ
				
				s["dlg_title"] = !s["dlg_title"];
				
				if(s["dlg_title"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nLOAD_BOX || ChkType == nSAVE_BOX)
			{//LOAD SAVE »­Ãæ´_ÕJ
				
				//FILE ID
				if(ChkType == nSAVE_BOX){
					
					s["dlg_save"] = !s["dlg_save"];
					
					if(s["dlg_save"] == true){
						CheckParts.loadImages("frm_chkwin05.png");
					}else{
						CheckParts.loadImages("frm_chkwin06.png");
					}
					
				}else{
					
					s["dlg_load"] = !s["dlg_load"];
					
					if(s["dlg_load"] == true){
						CheckParts.loadImages("frm_chkwin05.png");
					}else{
						CheckParts.loadImages("frm_chkwin06.png");
					}
					
				}
				
			}
			else if(ChkType == nREWRITE_BOX)
			{//ÉÏ•ø¤­ SAVE »­Ãæ´_ÕJ
				
				s["dlg_save"] = !s["dlg_save"];
				
				if(s["dlg_save"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nSCENE_REPLAY)
			{//SCENE REPLAY »­Ãæ´_ÕJ
				
				s["dlg_replay"] = !s["dlg_replay"];
				
				if(s["dlg_replay"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nJUMP_BOX)
			{//JUMP´_ÕJ
				
				s["dlg_jump"] = !s["dlg_jump"];
				
				if(s["dlg_jump"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nCOPY_BOX)
			{//COPY´_ÕJ
				
				s["dlg_copy"] = !s["dlg_copy"];
				
				if(s["dlg_copy"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nMOVE_BOX)
			{//MOVE´_ÕJ
				
				s["dlg_move"] = !s["dlg_move"];
				
				if(s["dlg_move"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			else if(ChkType == nDELETE_BOX)
			{//Ï÷³ý´_ÕJ
				
				s["dlg_erase"] = !s["dlg_erase"];
				
				if(s["dlg_erase"] == true){
					CheckParts.loadImages("frm_chkwin05.png");
				}else{
					CheckParts.loadImages("frm_chkwin06.png");
				}
				
			}
			
			TempRes = 0;
		}
	}
	
	
	
	
	
	/*-----------------------------------------
	¡ö Ï÷³ýévÊý
	
	ÒýÊý£º
	
	ÕhÃ÷£º
	
	-----------------------------------------*/
	function DeleteFunc()
	{
		//¥¿¥¤¥Þ©`Í£Ö¹
		MainWnd.DefaultTimer.enabled = false;
		
		DeleteWork( CheckBoxDelete );
		
	}
	
	
	
	
	
	
	/*-----------------------------------------
	¡ö KEY UP
	-----------------------------------------*/
	function KeyUpAction(key, shift, process)
	{
		switch(key){
			case VK_RETURN:{
			//return
				//alt¥­©`¤¬Ñº¤µ¤ì¤Æ¤¤¤¿¤é¤³¤³¤Þ¤Ç
				if(shift & ssAlt)return;
				
				LeftMouseUpAction();
			}break;
			
			case VK_LEFT:{
			//¡û
				keyactive = true;
				m_left    = MainWnd.PrimaryLayer.cursorX;
				m_top     = MainWnd.PrimaryLayer.cursorY;
				
				if(MapRes < 1){
					MapRes = 1;
				}else{
					if(MapRes == 1){
						MapRes = 2;
					}else{
						MapRes = 1;
					}
				}
				
			}break;
			
			case VK_RIGHT:{
			//¡ú
				keyactive = true;
				m_left    = MainWnd.PrimaryLayer.cursorX;
				m_top     = MainWnd.PrimaryLayer.cursorY;
				
				if(MapRes == 0){
					MapRes = 2;
				}else{
					if(MapRes == 2){
						MapRes = 1;
					}else{
						MapRes = 2;
					}
				}
				
			}break;
		}
	}
}






/*-----------------------------------------
¡ö Ï÷³ýévÊý
-----------------------------------------*/
function CheckBoxDelete()
{
	//¥¢¥¯¥Æ¥£¥Ö¥ª¥Ö¥¸¥§¥¯¥È¤ò‰ä¸ü¤¹¤ë
	MainObj.ActiveObj = MainObj.CheckBoxObj.TempActive;
	
	var ResultFunc = MainObj.CheckBoxObj.ResultFunc;
	
	//¥ª¥Ö¥¸¥§¥¯¥È¤òÏ÷³ý¤¹¤ë
	invalidate MainObj.CheckBoxObj;
	
	MainObj.CheckBoxObj = void;
	
	//¥¬¥Ù©`¥¸¤òŠÖÆµÄ¤Ë„Ó¤«¤¹
	System.doCompact();
	
	//Ö¸¶¨¤·¤¿ReturnévÊý¤òºô¤Ó³ö¤¹
	ResultFunc();
}



@endif

		}
	}
}






/*-----------------------------------------
â–  å‰Šé™¤é–¢æ•°
-----------------------------------------*/
function CheckBoxDelete()
{
	//ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤‰æ›´ã™ã‚‹
	MainObj.ActiveObj = MainObj.CheckBoxObj.TempActive;
	
	var ResultFunc = MainObj.CheckBoxObj.ResultFunc;
	
	//ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã™ã‚‹
	invalidate MainObj.CheckBoxObj;
	
	MainObj.CheckBoxObj = void;
	
	//ã‚¬ãƒ™ãƒ¼ã‚¸ã‚’å¼·åˆ¶çš„ã«å‹•ã‹ã™
	System.doCompact();
	
	//æŒ‡å®šã—ãŸReturné–¢æ•°ã‚’å‘¼ã³å‡ºã™
	ResultFunc();
}



@endif
